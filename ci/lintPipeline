properties([
    pipelineTriggers([
        pollSCM('H/1 * * * *')
    ])
])

node {
    stage('install dependencies') {
        git credentialsId: 'GIT_EPAM_PAT', url: 'https://git.epam.com/anton_rak/set_basic_api_js.git', branch: 'master'
        bat script: 'npm install'
    }
    stage('lint') {
        bat script: 'npm run lint'
    }
    stage('unit tests coverage') {
        bat script: 'npm run unit_tests_coverage'
    }
}