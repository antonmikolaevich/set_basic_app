<section>

  <form id="searchForm" class="row g-3 pt-4">

  <!-- First Row: Product Id + Product Name -->
  <div class="row align-items-center mb-3">

    <!-- Product Id -->
    <div class="col-md-2 text-start">
      <label for="searchId" class="form-label mb-0">Product Id</label>
    </div>
    <div class="col-md-4">
      <input id="searchId" name="id" class="form-control" placeholder="Enter Product ID">
    </div>

    <!-- Product Name -->
    <div class="col-md-2 text-start">
      <label for="searchName" class="form-label mb-0">Product Name</label>
    </div>
    <div class="col-md-4">
      <input id="searchName" name="name" class="form-control" placeholder="Enter Product Name">
    </div>

  </div>

  <!-- Second Row: Author (single field example) -->
  <div class="row align-items-center mb-3">
    <div class="col-md-2 text-start">
      <label for="searchAuthor" class="form-label mb-0">Author</label>
    </div>
    <div class="col-md-4">
      <input id="searchAuthor" name="author" class="form-control" placeholder="Enter Author Name">
    </div>
     <div class="col-md-2 text-start">
      <label for="searchPrice" class="form-label mb-0">Price</label>
    </div>
    <div class="col-md-4">
      <input id="searchPrice" name="price" class="form-control" placeholder="Enter Price">
    </div>
  </div>

  <!-- Submit Button -->
  <div class="col-12 text-end">
    <button class="btn btn-primary" type="submit">Search</button>
  </div>

</form>


  <div id="searchResult" class="mt-3"></div>
</section>

<section class="row mb-3">
  <div class="col">
    <h3>Search Results</h3>
  </div>
</section>

<div class="row mt-4">
  <% products.forEach(product => { %>
    <div class="col-md-4 mb-4">
      <div class="card shadow-sm">

  <!-- IMAGE -->
  <div class="card-img-top bg-secondary text-white p-5 text-center">
    Product Image
  </div>

  <!-- PRODUCT INFO (with tight padding) -->
  <div class="card-body py-3">
     <div class="ms-3">
    <h5 class="fw-bold mb-1"><%= product.name %></h5>
    <p class="mb-1 text-muted"><%= product._id %></p>
    <p class="mb-2"><%= product.description %></p>
  </div>
  </div>

  <!-- AUTHOR -->
  <div class="card-footer bg-white py-2">
    <%= product.author %>
  </div>

  <!-- PRICE -->
  <div class="card-footer bg-white py-2">
    <%= product.price %>
  </div>

  <!-- BUTTONS -->
  <div class="card-footer d-flex justify-content-between">
    <a href="#"
      class="btn btn-sm btn-primary edit-btn"
      data-id="<%= product._id %>"
      data-name="<%= product.name %>"
      data-description="<%= product.description %>"
      data-author="<%= product.author %>"
      data-price="<%= product.price %>"
      data-image="<%= product.image_path %>">
      Edit
    </a>

    <button 
      type="button"
      class="btn btn-sm btn-danger delete-btn"
      data-id="<%= product._id %>">
      Delete
    </button>
  </div>

</div>

    </div>
  <% }) %>
</div>

<div class="d-flex justify-content-end align-items-center mt-4">
  
  <!-- LEFT SIDE — Create Button -->
  <button class="btn btn-success me-3" id="openCreateProductBtn">
    Create
  </button>

  <!-- RIGHT SIDE — Pagination -->
  <% if (totalPages && totalPages > 1) { %>
    <nav aria-label="Products pagination">
      <ul class="pagination mb-0">

        <% if (currentPage > 1) { %>
          <li class="page-item">
            <a class="page-link" href="/?page=<%= currentPage - 1 %>">Previous</a>
          </li>
        <% } else { %>
          <li class="page-item disabled">
            <span class="page-link">Previous</span>
          </li>
        <% } %>

        <% for (let i = 1; i <= totalPages; i++) { %>
          <li class="page-item <%= i === currentPage ? 'active' : '' %>">
            <a class="page-link" href="/?page=<%= i %>"><%= i %></a>
          </li>
        <% } %>

        <% if (currentPage < totalPages) { %>
          <li class="page-item">
            <a class="page-link" href="/?page=<%= currentPage + 1 %>">Next</a>
          </li>
        <% } else { %>
          <li class="page-item disabled">
            <span class="page-link">Next</span>
          </li>
        <% } %>

      </ul>
    </nav>
  <% } %>

</div>
